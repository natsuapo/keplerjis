"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = DateSelectFilterFactory;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _itemSelector = _interopRequireDefault(require("../common/item-selector/item-selector"));

var _styledComponents = require("../common/styled-components");

var _calendarDatarange = _interopRequireDefault(require("../common/calendar-datarange"));

var _localization = require("../../localization");

var _styledComponents2 = _interopRequireDefault(require("styled-components"));

var _templateObject, _templateObject2;

// import 'react-date-range/dist/styles.css'; // main style file
// import 'react-date-range/dist/theme/default.css'; // theme css file
var StyledDataRangeNew = _styledComponents2["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n.rdrCalendarWrapper {\n  box-sizing: inherit;\n  background: #ffffff;\n  display: inline-flex;\n  flex-direction: column;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n\n}\n"])));

var StyledDataRange = _styledComponents2["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n.rdrCalendarWrapper {\n  box-sizing: inherit;\n  background: #ffffff;\n  display: inline-flex;\n  flex-direction: column;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n\n}\n\n.rdrDateDisplay{\n  display: flex;\n  justify-content: space-between;\n}\n\n.rdrDateDisplayItem{\n  flex: 1 1;\n  width: 0;\n  text-align: center;\n  color: inherit;\n}\n\n.rdrDateDisplayItem + .rdrDateDisplayItem{\n    margin-left: 0.833em;\n  }\n\n.rdrDateDisplayItem input{\n    text-align: inherit\n  }\n\n.rdrDateDisplayItem input:disabled{\n      cursor: default;\n    }\n\n.rdrDateDisplayItemActive{}\n\n.rdrMonthAndYearWrapper {\n  box-sizing: inherit;\n  display: flex;\n  justify-content: space-between;\n}\n\n.rdrMonthAndYearPickers{\n  flex: 1 1 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.rdrMonthPicker{}\n\n.rdrYearPicker{}\n\n.rdrNextPrevButton {\n  box-sizing: inherit;\n  cursor: pointer;\n  outline: none;\n}\n\n.rdrPprevButton {}\n\n.rdrNextButton {}\n\n.rdrMonths{\n  display: flex;\n}\n\n.rdrMonthsVertical{\n  flex-direction: column;\n}\n\n.rdrMonthsHorizontal > div > div > div{\n  display: flex;\n  flex-direction: row;\n}\n\n.rdrMonth{\n  width: 27.667em;\n}\n\n.rdrWeekDays{\n  display: flex;\n}\n\n.rdrWeekDay {\n  flex-basis: calc(100% / 7);\n  box-sizing: inherit;\n  text-align: center;\n}\n\n.rdrDays{\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.rdrDateDisplayWrapper{}\n\n.rdrMonthName{}\n\n.rdrInfiniteMonths{\n  overflow: auto;\n}\n\n.rdrDateRangeWrapper{\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.rdrDateInput {\n  position: relative;\n}\n\n.rdrDateInput input {\n    outline: none;\n  }\n\n.rdrDateInput .rdrWarning {\n    position: absolute;\n    font-size: 1.6em;\n    line-height: 1.6em;\n    top: 0;\n    right: .25em;\n    color: #FF0000;\n  }\n\n.rdrDay {\n  box-sizing: inherit;\n  width: calc(100% / 7);\n  position: relative;\n  font: inherit;\n  cursor: pointer;\n}\n\n.rdrDayNumber {\n  display: block;\n  position: relative;\n}\n\n.rdrDayNumber span{\n    color: #1d2429;\n  }\n\n.rdrDayDisabled {\n  cursor: not-allowed;\n}\n\n@supports (-ms-ime-align: auto) {\n  .rdrDay {\n    flex-basis: 14.285% !important;\n  }\n}\n\n.rdrSelected, .rdrInRange, .rdrStartEdge, .rdrEndEdge{\n  pointer-events: none;\n}\n\n.rdrInRange{}\n\n.rdrDayStartPreview, .rdrDayInPreview, .rdrDayEndPreview{\n  pointer-events: none;\n}\n\n.rdrDayHovered{}\n\n.rdrDayActive{}\n\n.rdrDateRangePickerWrapper{\n  display: inline-flex;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.rdrDefinedRangesWrapper{}\n\n.rdrStaticRanges{\n  display: flex;\n  flex-direction: column;\n}\n\n.rdrStaticRange{\n  font-size: inherit;\n}\n\n.rdrStaticRangeLabel{}\n\n.rdrInputRanges{}\n\n.rdrInputRange{\n  display: flex;\n}\n\n.rdrInputRangeInput{}\n\n"])));

function DateSelectFilterFactory() {
  var setRanges = function setRanges(filter) {
    return {
      startDate: new Date(filter.filter.domain[0]),
      endDate: new Date(filter.filter.domain.slice(-1)[0]),
      key: 'selection'
    };
  };

  var DateSelectFilter = function DateSelectFilter(_ref) {
    var filter = _ref.filter,
        setFilter = _ref.setFilter,
        dowFilter = _ref.dowFilter,
        setDowFilter = _ref.setDowFilter,
        timeFilter = _ref.timeFilter,
        setTimeFilter = _ref.setTimeFilter,
        holidayFilter = _ref.holidayFilter,
        setHolidayFilter = _ref.setHolidayFilter;
    return /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(_styledComponents.PanelLabel, {
      htmlFor: "filter-".concat(filter.id)
    }, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'misc.valuesIn'
    })), /*#__PURE__*/_react["default"].createElement(_calendarDatarange["default"], {
      setFilter: setFilter,
      domain: filter.domain
    }), "Day of week:", /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], {
      options: filter.domain.dow,
      selectedItems: filter.value.dow,
      onChange: setDowFilter
    }));
  };

  return DateSelectFilter;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2ZpbHRlcnMvZGF0ZS1zZWxlY3QtZmlsdGVyLmpzIl0sIm5hbWVzIjpbIlN0eWxlZERhdGFSYW5nZU5ldyIsInN0eWxlZCIsImRpdiIsIlN0eWxlZERhdGFSYW5nZSIsIkRhdGVTZWxlY3RGaWx0ZXJGYWN0b3J5Iiwic2V0UmFuZ2VzIiwiZmlsdGVyIiwic3RhcnREYXRlIiwiRGF0ZSIsImRvbWFpbiIsImVuZERhdGUiLCJzbGljZSIsImtleSIsIkRhdGVTZWxlY3RGaWx0ZXIiLCJzZXRGaWx0ZXIiLCJkb3dGaWx0ZXIiLCJzZXREb3dGaWx0ZXIiLCJ0aW1lRmlsdGVyIiwic2V0VGltZUZpbHRlciIsImhvbGlkYXlGaWx0ZXIiLCJzZXRIb2xpZGF5RmlsdGVyIiwiaWQiLCJkb3ciLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFvQkE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUEsSUFBTUEsa0JBQWtCLEdBQUdDLDhCQUFPQyxHQUFWLGdWQUF4Qjs7QUFjQSxJQUFNQyxlQUFlLEdBQUdGLDhCQUFPQyxHQUFWLGdpR0FBckI7O0FBME1lLFNBQVNFLHVCQUFULEdBQW1DO0FBRWhELE1BQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNDLE1BQUQsRUFBVztBQUMzQixXQUFPO0FBQ0xDLE1BQUFBLFNBQVMsRUFBRSxJQUFJQyxJQUFKLENBQVNGLE1BQU0sQ0FBQ0EsTUFBUCxDQUFjRyxNQUFkLENBQXFCLENBQXJCLENBQVQsQ0FETjtBQUVIQyxNQUFBQSxPQUFPLEVBQUUsSUFBSUYsSUFBSixDQUFTRixNQUFNLENBQUNBLE1BQVAsQ0FBY0csTUFBZCxDQUFxQkUsS0FBckIsQ0FBMkIsQ0FBQyxDQUE1QixFQUErQixDQUEvQixDQUFULENBRk47QUFHSEMsTUFBQUEsR0FBRyxFQUFFO0FBSEYsS0FBUDtBQUtELEdBTkQ7O0FBUUEsTUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQjtBQUFBLFFBQUVQLE1BQUYsUUFBRUEsTUFBRjtBQUFBLFFBQVVRLFNBQVYsUUFBVUEsU0FBVjtBQUFBLFFBQW9CQyxTQUFwQixRQUFvQkEsU0FBcEI7QUFBQSxRQUE4QkMsWUFBOUIsUUFBOEJBLFlBQTlCO0FBQUEsUUFBMkNDLFVBQTNDLFFBQTJDQSxVQUEzQztBQUFBLFFBQXNEQyxhQUF0RCxRQUFzREEsYUFBdEQ7QUFBQSxRQUFvRUMsYUFBcEUsUUFBb0VBLGFBQXBFO0FBQUEsUUFBa0ZDLGdCQUFsRixRQUFrRkEsZ0JBQWxGO0FBQUEsd0JBRXZCLDBEQUNFLGdDQUFDLDRCQUFEO0FBQVksTUFBQSxPQUFPLG1CQUFZZCxNQUFNLENBQUNlLEVBQW5CO0FBQW5CLG9CQUNFLGdDQUFDLDhCQUFEO0FBQWtCLE1BQUEsRUFBRSxFQUFFO0FBQXRCLE1BREYsQ0FERixlQUlFLGdDQUFDLDZCQUFEO0FBQWlCLE1BQUEsU0FBUyxFQUFFUCxTQUE1QjtBQUF1QyxNQUFBLE1BQU0sRUFBRVIsTUFBTSxDQUFDRztBQUF0RCxNQUpGLCtCQXdCRSxnQ0FBQyx3QkFBRDtBQUFjLE1BQUEsT0FBTyxFQUFFSCxNQUFNLENBQUNHLE1BQVAsQ0FBY2EsR0FBckM7QUFBMEMsTUFBQSxhQUFhLEVBQUVoQixNQUFNLENBQUNpQixLQUFQLENBQWFELEdBQXRFO0FBQTJFLE1BQUEsUUFBUSxFQUFFTjtBQUFyRixNQXhCRixDQUZ1QjtBQUFBLEdBQXpCOztBQW9DQSxTQUFPSCxnQkFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIyIFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJdGVtU2VsZWN0b3IgZnJvbSAnLi4vY29tbW9uL2l0ZW0tc2VsZWN0b3IvaXRlbS1zZWxlY3Rvcic7XG5pbXBvcnQge1BhbmVsTGFiZWx9IGZyb20gJy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCBTdHlsZWREYXRlUmFuZ2UgZnJvbSAnLi4vY29tbW9uL2NhbGVuZGFyLWRhdGFyYW5nZSc7XG5cbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAnbG9jYWxpemF0aW9uJztcblxuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cblxuXG4vLyBpbXBvcnQgJ3JlYWN0LWRhdGUtcmFuZ2UvZGlzdC9zdHlsZXMuY3NzJzsgLy8gbWFpbiBzdHlsZSBmaWxlXG4vLyBpbXBvcnQgJ3JlYWN0LWRhdGUtcmFuZ2UvZGlzdC90aGVtZS9kZWZhdWx0LmNzcyc7IC8vIHRoZW1lIGNzcyBmaWxlXG5cbmNvbnN0IFN0eWxlZERhdGFSYW5nZU5ldyA9IHN0eWxlZC5kaXZgXG4ucmRyQ2FsZW5kYXJXcmFwcGVyIHtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbn1cbmA7XG5cbmNvbnN0IFN0eWxlZERhdGFSYW5nZSA9IHN0eWxlZC5kaXZgXG4ucmRyQ2FsZW5kYXJXcmFwcGVyIHtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbn1cblxuLnJkckRhdGVEaXNwbGF5e1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5yZHJEYXRlRGlzcGxheUl0ZW17XG4gIGZsZXg6IDEgMTtcbiAgd2lkdGg6IDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG5cbi5yZHJEYXRlRGlzcGxheUl0ZW0gKyAucmRyRGF0ZURpc3BsYXlJdGVte1xuICAgIG1hcmdpbi1sZWZ0OiAwLjgzM2VtO1xuICB9XG5cbi5yZHJEYXRlRGlzcGxheUl0ZW0gaW5wdXR7XG4gICAgdGV4dC1hbGlnbjogaW5oZXJpdFxuICB9XG5cbi5yZHJEYXRlRGlzcGxheUl0ZW0gaW5wdXQ6ZGlzYWJsZWR7XG4gICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgfVxuXG4ucmRyRGF0ZURpc3BsYXlJdGVtQWN0aXZle31cblxuLnJkck1vbnRoQW5kWWVhcldyYXBwZXIge1xuICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5yZHJNb250aEFuZFllYXJQaWNrZXJze1xuICBmbGV4OiAxIDEgYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5yZHJNb250aFBpY2tlcnt9XG5cbi5yZHJZZWFyUGlja2Vye31cblxuLnJkck5leHRQcmV2QnV0dG9uIHtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4ucmRyUHByZXZCdXR0b24ge31cblxuLnJkck5leHRCdXR0b24ge31cblxuLnJkck1vbnRoc3tcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnJkck1vbnRoc1ZlcnRpY2Fse1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4ucmRyTW9udGhzSG9yaXpvbnRhbCA+IGRpdiA+IGRpdiA+IGRpdntcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbn1cblxuLnJkck1vbnRoe1xuICB3aWR0aDogMjcuNjY3ZW07XG59XG5cbi5yZHJXZWVrRGF5c3tcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnJkcldlZWtEYXkge1xuICBmbGV4LWJhc2lzOiBjYWxjKDEwMCUgLyA3KTtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ucmRyRGF5c3tcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xufVxuXG4ucmRyRGF0ZURpc3BsYXlXcmFwcGVye31cblxuLnJkck1vbnRoTmFtZXt9XG5cbi5yZHJJbmZpbml0ZU1vbnRoc3tcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbi5yZHJEYXRlUmFuZ2VXcmFwcGVye1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG4ucmRyRGF0ZUlucHV0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ucmRyRGF0ZUlucHV0IGlucHV0IHtcbiAgICBvdXRsaW5lOiBub25lO1xuICB9XG5cbi5yZHJEYXRlSW5wdXQgLnJkcldhcm5pbmcge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBmb250LXNpemU6IDEuNmVtO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjZlbTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IC4yNWVtO1xuICAgIGNvbG9yOiAjRkYwMDAwO1xuICB9XG5cbi5yZHJEYXkge1xuICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZm9udDogaW5oZXJpdDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucmRyRGF5TnVtYmVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnJkckRheU51bWJlciBzcGFue1xuICAgIGNvbG9yOiAjMWQyNDI5O1xuICB9XG5cbi5yZHJEYXlEaXNhYmxlZCB7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbkBzdXBwb3J0cyAoLW1zLWltZS1hbGlnbjogYXV0bykge1xuICAucmRyRGF5IHtcbiAgICBmbGV4LWJhc2lzOiAxNC4yODUlICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLnJkclNlbGVjdGVkLCAucmRySW5SYW5nZSwgLnJkclN0YXJ0RWRnZSwgLnJkckVuZEVkZ2V7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4ucmRySW5SYW5nZXt9XG5cbi5yZHJEYXlTdGFydFByZXZpZXcsIC5yZHJEYXlJblByZXZpZXcsIC5yZHJEYXlFbmRQcmV2aWV3e1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnJkckRheUhvdmVyZWR7fVxuXG4ucmRyRGF5QWN0aXZle31cblxuLnJkckRhdGVSYW5nZVBpY2tlcldyYXBwZXJ7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG4ucmRyRGVmaW5lZFJhbmdlc1dyYXBwZXJ7fVxuXG4ucmRyU3RhdGljUmFuZ2Vze1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4ucmRyU3RhdGljUmFuZ2V7XG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcbn1cblxuLnJkclN0YXRpY1JhbmdlTGFiZWx7fVxuXG4ucmRySW5wdXRSYW5nZXN7fVxuXG4ucmRySW5wdXRSYW5nZXtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnJkcklucHV0UmFuZ2VJbnB1dHt9XG5cbmBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGF0ZVNlbGVjdEZpbHRlckZhY3RvcnkoKSB7XG5cbiAgY29uc3Qgc2V0UmFuZ2VzID0gKGZpbHRlcikgPT57XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoZmlsdGVyLmZpbHRlci5kb21haW5bMF0pLFxuICAgICAgICBlbmREYXRlOiBuZXcgRGF0ZShmaWx0ZXIuZmlsdGVyLmRvbWFpbi5zbGljZSgtMSlbMF0pLFxuICAgICAgICBrZXk6ICdzZWxlY3Rpb24nLFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IERhdGVTZWxlY3RGaWx0ZXIgPSAoe2ZpbHRlciwgc2V0RmlsdGVyLGRvd0ZpbHRlcixzZXREb3dGaWx0ZXIsdGltZUZpbHRlcixzZXRUaW1lRmlsdGVyLGhvbGlkYXlGaWx0ZXIsc2V0SG9saWRheUZpbHRlcn0pID0+IChcblxuICAgIDxkaXY+XG4gICAgICA8UGFuZWxMYWJlbCBodG1sRm9yPXtgZmlsdGVyLSR7ZmlsdGVyLmlkfWB9PlxuICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17J21pc2MudmFsdWVzSW4nfSAvPlxuICAgICAgPC9QYW5lbExhYmVsPlxuICAgICAgPFN0eWxlZERhdGVSYW5nZSBzZXRGaWx0ZXI9e3NldEZpbHRlcn0gZG9tYWluPXtmaWx0ZXIuZG9tYWlufS8+XG4gICAgICB7Lyo8VGltZVJhbmdlU2xpZGVyKi99XG4gICAgICB7LyogIGlkPXtmaWx0ZXIuaWR9Ki99XG4gICAgICB7LyogIGRvbWFpbj17ZmlsdGVyLmRvbWFpbn0qL31cbiAgICAgIHsvKiAgdmFsdWU9e2ZpbHRlci52YWx1ZX0qL31cbiAgICAgIHsvKiAgcGxvdFR5cGU9e2ZpbHRlci5wbG90VHlwZX0qL31cbiAgICAgIHsvKiAgbGluZUNoYXJ0PXtmaWx0ZXIubGluZUNoYXJ0fSovfVxuICAgICAgey8qICBzdGVwPXtmaWx0ZXIuc3RlcH0qL31cbiAgICAgIHsvKiAgc3BlZWQ9e2ZpbHRlci5zcGVlZH0qL31cbiAgICAgIHsvKiAgaGlzdG9ncmFtPXtmaWx0ZXIuZW5sYXJnZWQgPyBmaWx0ZXIuZW5sYXJnZWRIaXN0b2dyYW0gOiBmaWx0ZXIuaGlzdG9ncmFtfSovfVxuICAgICAgey8qICBvbkNoYW5nZT17c2V0RmlsdGVyfSovfVxuICAgICAgey8qICB0b2dnbGVBbmltYXRpb249e3RvZ2dsZUFuaW1hdGlvbn0qL31cbiAgICAgIHsvKiAgaXNBbmltYXRhYmxlPXtpc0FuaW1hdGFibGV9Ki99XG4gICAgICB7LyogIGlzRW5sYXJnZWQ9e2ZpbHRlci5lbmxhcmdlZH0qL31cbiAgICAgIHsvKiAgaGlkZVRpbWVUaXRsZT17aGlkZVRpbWVUaXRsZX0qL31cbiAgICAgIHsvKi8+Ki99XG5cbiAgICAgIERheSBvZiB3ZWVrOlxuICAgICAgey8qPEl0ZW1TZWxlY3RvciBvcHRpb25zPXtmaWx0ZXIuZG9tYWluLmRvd30gc2VsZWN0ZWRJdGVtcz17ZmlsdGVyLmRvbWFpbi5kb3d9IG9uQ2hhbmdlPXtzZXREb3dGaWx0ZXJ9IC8+Ki99XG5cbiAgICAgIDxJdGVtU2VsZWN0b3Igb3B0aW9ucz17ZmlsdGVyLmRvbWFpbi5kb3d9IHNlbGVjdGVkSXRlbXM9e2ZpbHRlci52YWx1ZS5kb3d9IG9uQ2hhbmdlPXtzZXREb3dGaWx0ZXJ9IC8+XG5cbiAgICAgIHsvKlJlbW92ZSBob2xpZGF5OiovfVxuICAgICAgey8qPENoZWNrYm94IGxhYmVsPXsnZXhjbHVkZSBob2xpZGF5J30gY2hlY2tlZD17c2V0SG9saWRheUZpbHRlcih0cnVlKX0gZGlzYWJsZWQ9e3NldEhvbGlkYXlGaWx0ZXIoZmFsc2UpfSBpZD17J2hvbGlkYXknfS8+Ki99XG5cbiAgICAgIHsvKlRpbWUgZmVuY2luZzoqL31cbiAgICAgIHsvKjxJdGVtU2VsZWN0b3Igb3B0aW9ucz17dGltZUZpbHRlci5kb21haW59IHNlbGVjdGVkaXRlbXM9e3RpbWVGaWx0ZXIudmFsdWV9IG9uQ2hhbmdlPXtzZXRUaW1lRmlsdGVyfS8+Ki99XG5cbiAgICA8L2Rpdj5cbiAgKTtcbiAgcmV0dXJuIERhdGVTZWxlY3RGaWx0ZXI7XG59XG5cbiJdfQ==